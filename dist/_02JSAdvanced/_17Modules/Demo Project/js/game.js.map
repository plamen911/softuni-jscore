{"version":3,"sources":["../../../../../_02JSAdvanced/_17Modules/Demo Project/js/game.js"],"names":["define","player","scoreboard","factorElement","document","getElementById","problemsPerGame","printGame","logPlayer","setProblemCount","value","gameForm","i","gameElement","innerHTML","removeAttribute","calculateScore","problemsInGame","getProblemCount","score","answer","result","name","getName","problems","factor","addResult","updateScoreboard","setAttribute","newProblemCount"],"mappings":";;;AAAAA,WAAO,CAAC,aAAD,EAAgB,iBAAhB,CAAP,EAA2C,UAAUC,MAAV,EAAkBC,UAAlB,EAA8B;;AAErE;AACA,YAAIC,gBAAgBC,SAASC,cAAT,CAAwB,QAAxB,CAApB;AACA,YAAIC,kBAAkB,CAAtB,CAJqE,CAI5C;;AAEzB,iBAASC,SAAT,GAAqB;;AAEjBN,mBAAOO,SAAP;;AAEA;AACAC,4BAAgBL,SAASC,cAAT,CAAwB,cAAxB,EAAwCK,KAAxD;;AAEA;AACA,gBAAIC,WAAW,EAAf;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKN,eAArB,EAAsCM,GAAtC,EAA2C;AACvCD,4BAAa,0BAAb;AACAA,4BAAa,qBAAoBC,CAAE,mCAAnC;AACAD,4BAAa,GAAER,cAAcO,KAAM,MAAKE,CAAE,aAA1C;AACAD,4BAAa,2EAA0EC,CAAE,IAAzF;AACAD,4BAAa,QAAb;AACH;;AAED;AACA,gBAAIE,cAAcT,SAASC,cAAT,CAAwB,MAAxB,CAAlB;AACAQ,wBAAYC,SAAZ,GAAwBH,QAAxB;;AAEA;AACAP,qBAASC,cAAT,CAAwB,WAAxB,EAAqCU,eAArC,CAAqD,UAArD;AACH;;AAED,iBAASC,cAAT,GAA0B;;AAEtB,gBAAIC,iBAAiBC,iBAArB;AACA,gBAAIC,QAAQ,CAAZ;;AAEA;AACA,iBAAK,IAAIP,IAAI,CAAb,EAAgBA,KAAKK,cAArB,EAAqCL,GAArC,EAA0C;AACtC,oBAAIQ,SAAShB,SAASC,cAAT,CAAyB,SAAQO,CAAE,EAAnC,EAAsCF,KAAnD;AACA,oBAAIE,IAAIT,cAAcO,KAAlB,KAA4BU,MAAhC,EAAwC;AACpCD;AACH;AACJ;;AAED;AACA,gBAAIE,SAAS;AACTC,sBAAMrB,OAAOsB,OAAP,EADG;AAETJ,uBAAOA,KAFE;AAGTK,0BAAUP,cAHD;AAITQ,wBAAQtB,cAAcO;AAJb,aAAb;;AAOA;AACAR,uBAAWwB,SAAX,CAAqBL,MAArB;AACAnB,uBAAWyB,gBAAX;;AAEA;AACAvB,qBAASC,cAAT,CAAwB,WAAxB,EAAqCuB,YAArC,CAAkD,UAAlD,EAA8D,MAA9D;AACH;;AAED,iBAASnB,eAAT,CAAyBoB,eAAzB,EAA0C;AACtCvB,8BAAkBuB,eAAlB;AACH;;AAED,iBAASX,eAAT,GAA2B;AACvB,mBAAOZ,eAAP;AACH;;AAED;AACA,eAAO;AACHC,uBAAWA,SADR;AAEHS,4BAAgBA,cAFb;AAGHP,6BAAiBA,eAHd;AAIHS,6BAAiBA;AAJd,SAAP;AAMH,KA3ED","file":"game.js","sourcesContent":["define(['./player.js', './scoreboard.js'], function (player, scoreboard) {\r\n\r\n    // private members\r\n    let factorElement = document.getElementById('factor');\r\n    let problemsPerGame = 3; // set default value\r\n\r\n    function printGame() {\r\n\r\n        player.logPlayer();\r\n\r\n        // determine the number of problems to show\r\n        setProblemCount(document.getElementById('problemCount').value);\r\n\r\n        // create the html for the current game\r\n        let gameForm = '';\r\n        for (let i = 1; i <= problemsPerGame; i++) {\r\n            gameForm += `<div class=\"form-group\">`;\r\n            gameForm += `<label for=\"answer${i}\" class=\"col-sm-2 control-label\">`;\r\n            gameForm += `${factorElement.value} x ${i} = </label>`;\r\n            gameForm += `<div class=\"col-sm-1\"><input type=\"text\" class=\"form-control\" id=\"answer${i}\">`;\r\n            gameForm += `</div>`;\r\n        }\r\n\r\n        // add the new game to the page\r\n        let gameElement = document.getElementById('game');\r\n        gameElement.innerHTML = gameForm;\r\n\r\n        // enable the calculate score button\r\n        document.getElementById('calculate').removeAttribute('disabled');\r\n    }\r\n\r\n    function calculateScore() {\r\n\r\n        let problemsInGame = getProblemCount();\r\n        let score = 0;\r\n\r\n        // loop trough the text boxes and calculate the number that are correct\r\n        for (let i = 1; i <= problemsInGame; i++) {\r\n            let answer = document.getElementById(`answer${i}`).value;\r\n            if (i * factorElement.value === answer) {\r\n                score++;\r\n            }\r\n        }\r\n\r\n        //create a new result object to pass to the scoreboard\r\n        let result = {\r\n            name: player.getName(),\r\n            score: score,\r\n            problems: problemsInGame,\r\n            factor: factorElement.value\r\n        };\r\n\r\n        // add the result and update the scoreboard\r\n        scoreboard.addResult(result);\r\n        scoreboard.updateScoreboard();\r\n\r\n        // disable calculate score button\r\n        document.getElementById('calculate').setAttribute('disabled', 'true');\r\n    }\r\n\r\n    function setProblemCount(newProblemCount) {\r\n        problemsPerGame = newProblemCount;\r\n    }\r\n\r\n    function getProblemCount() {\r\n        return problemsPerGame;\r\n    }\r\n\r\n    // public members\r\n    return {\r\n        printGame: printGame,\r\n        calculateScore: calculateScore,\r\n        setProblemCount: setProblemCount,\r\n        getProblemCount: getProblemCount\r\n    };\r\n});"]}